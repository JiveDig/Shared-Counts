"use strict";jQuery(document).ready(function(e){var a,t;e(document).on("click",'.shared-counts-button[target="_blank"]:not(.no-js)',function(a){a.preventDefault();var t="",o=this.href;switch(o.split("/")[2]){case"www.facebook.com":t="width=585,height=368";break;case"twitter.com":t="width=585,height=261";break;case"plus.google.com":t="width=517,height=511";break;case"pinterest.com":t="width=750,height=550";break;default:t="width=585,height=515"}window.open(o,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,"+t),e(this).trigger("shared-counts-click")}),e(document).on("click",'a[href*="#shared-counts-email"]',function(o){o.preventDefault(),e("#shared-counts-modal-wrap").fadeIn(),e("#shared-counts-modal-recipient").focus(),a=e(this).data("postid"),t=e(this).data("nonce"),shared_counts.recaptchaSitekey&&grecaptcha.render("shared-counts-modal-recaptcha",{sitekey:shared_counts.recaptchaSitekey})}),e(document).on("click","#shared-counts-modal-close",function(a){a.preventDefault(),e("#shared-counts-modal-wrap").fadeOut(),e("#shared-counts-modal-sent").hide()}),e(document).on("click","#shared-counts-modal-submit",function(o){o.preventDefault();var s=!1,c=e(this),n=e("#shared-counts-modal-recipient"),r=e("#shared-counts-modal-name"),i=e("#shared-counts-modal-email"),d=e("#shared-counts-modal-validation"),l=e("#g-recaptcha-response"),h={action:"shared_counts_email",postid:a,recipient:n.val(),name:r.val(),email:i.val(),validation:d.val(),recaptcha:l.val(),nonce:t};e(n,r,i).each(function(){e(this).val()&&""!==e(this).val()||(s=!0)}),s?alert(shared_counts.email_fields_required):(e(this).prop("disabled",!0),e.post(shared_counts.ajaxurl,h,function(a){a.success&&(console.log(shared_counts.email_sent),e(n,r,i).val(""),e("#shared-counts-modal-wrap").fadeOut()),c.prop("disabled",!1)}).fail(function(e){console.log(e.responseText)}))})});